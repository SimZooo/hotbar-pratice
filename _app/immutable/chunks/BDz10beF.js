import{f as g,h as o,g as v,E as y,i as T,H as p,j as E,k as S,l as b,n as k,o as A,u as N,q as R,S as w,t as _,v as x,w as B,x as M,y as O,z as q}from"./lo4V2k8S.js";import{B as D}from"./CtFp5xXO.js";import{s as F,g as H}from"./BOhaN6Nx.js";function Y(s,r,a=!1){o&&v();var e=new D(s),u=a?y:0;function n(t,i){if(o){const h=T(s)===p;if(t===h){var f=E();S(f),e.anchor=f,b(!1),e.ensure(t,i),b(!0);return}}e.ensure(t,i)}g(()=>{var t=!1;r((i,f=!0)=>{t=!0,n(f,i)}),t||n(!1,null)},u)}function d(s,r){return s===r||s?.[w]===r}function j(s={},r,a,e){return k(()=>{var u,n;return A(()=>{u=n,n=e?.()||[],N(()=>{s!==a(...n)&&(r(s,...n),u&&d(a(...u),s)&&r(null,...u))})}),()=>{R(()=>{n&&d(a(...n),s)&&r(null,...n)})}}),s}let c=!1,l=Symbol();function m(s,r,a){const e=a[r]??={store:null,source:x(void 0),unsubscribe:_};if(e.store!==s&&!(l in a))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=_;else{var u=!0;e.unsubscribe=F(s,n=>{u?e.source.v=n:O(e.source,n)}),u=!1}return s&&l in a?H(s):B(e.source)}function z(){const s={};function r(){M(()=>{for(var a in s)s[a].unsubscribe();q(s,l,{enumerable:!1,value:!0})})}return[s,r]}function C(s,r,a){return s.set(a),r}function P(s){var r=c;try{return c=!1,[s(),c]}finally{c=r}}export{z as a,j as b,P as c,C as d,Y as i,m as s};
