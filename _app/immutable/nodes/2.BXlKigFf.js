import{a as $,f as B,t as Nt,c as zt}from"../chunks/COe5jiM3.js";import{w as st,g as ct,o as Zt}from"../chunks/5AIwDW7i.js";import{h as Y,n as wt,Z as Gt,b as mt,j as te,i as ee,y as s,k as re,H as ne,l as jt,o as kt,f as ft,ai as oe,aJ as ae,au as Dt,c as se,e as Ft,s as ie,aQ as Pt,T as le,aR as ce,aH as Rt,aS as ue,ag as Bt,aT as fe,aU as de,x as ve,aV as X,r as Vt,p as qt,aW as yt,v as pe,aX as ge,aG as be,d as he,aD as _e,a8 as bt,a9 as nt,ae as A,ac as C,ad as F,aa as L,ab as ht,A as E,aO as K,F as et,X as xe,av as we}from"../chunks/BSJzay6h.js";import{s as V,a as _t,i as I,p as me,b as Tt,c as ke}from"../chunks/BtllQuPr.js";import{d as xt,s as J}from"../chunks/CobBbNkJ.js";import{s as dt}from"../chunks/C8cUYFt-.js";function ot(t,e){return e}function ye(t,e,n){for(var l=[],k=e.length,c,b=e.length,w=0;w<k;w++){let S=e[w];qt(S,()=>{if(c){if(c.pending.delete(S),c.done.add(S),c.pending.size===0){var d=t.outrogroups;At(Rt(c.done)),d.delete(c),d.size===0&&(t.outrogroups=null)}}else b-=1},!1)}if(b===0){var i=l.length===0&&n!==null;if(i){var m=n,v=m.parentNode;be(v),v.append(m),t.items.clear()}At(e,!i)}else c={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(c)}function At(t,e=!0){for(var n=0;n<t.length;n++)he(t[n],e)}var Ht;function at(t,e,n,l,k,c=null){var b=t,w=new Map,i=(e&Pt)!==0;if(i){var m=t;b=Y?wt(Gt(m)):m.appendChild(mt())}Y&&te();var v=null,S=le(()=>{var r=n();return ce(r)?r:r==null?[]:Rt(r)}),d,g=!0;function z(){o.fallback=v,Se(o,d,b,e,l),v!==null&&(d.length===0?(v.f&X)===0?Vt(v):(v.f^=X,lt(v,null,b)):qt(v,()=>{v=null}))}var M=ee(()=>{d=s(S);var r=d.length;let T=!1;if(Y){var y=re(b)===ne;y!==(r===0)&&(b=jt(),wt(b),kt(!1),T=!0)}for(var h=new Set,N=se,x=ie(),a=0;a<r;a+=1){Y&&ft.nodeType===oe&&ft.data===ae&&(b=ft,T=!0,kt(!1));var _=d[a],f=l(_,a),u=g?null:w.get(f);u?(u.v&&Dt(u.v,_),u.i&&Dt(u.i,a),x&&N.skipped_effects.delete(u.e)):(u=Ee(w,g?b:Ht??=mt(),_,f,a,k,e,n),g||(u.e.f|=X),w.set(f,u)),h.add(f)}if(r===0&&c&&!v&&(g?v=Ft(()=>c(b)):(v=Ft(()=>c(Ht??=mt())),v.f|=X)),Y&&r>0&&wt(jt()),!g)if(x){for(const[R,D]of w)h.has(R)||N.skipped_effects.add(D.e);N.oncommit(z),N.ondiscard(()=>{})}else z();T&&kt(!0),s(S)}),o={effect:M,items:w,outrogroups:null,fallback:v};g=!1,Y&&(b=ft)}function Se(t,e,n,l,k){var c=(l&ge)!==0,b=e.length,w=t.items,i=t.effect.first,m,v=null,S,d=[],g=[],z,M,o,r;if(c)for(r=0;r<b;r+=1)z=e[r],M=k(z,r),o=w.get(M).e,(o.f&X)===0&&(o.nodes?.a?.measure(),(S??=new Set).add(o));for(r=0;r<b;r+=1){if(z=e[r],M=k(z,r),o=w.get(M).e,t.outrogroups!==null)for(const u of t.outrogroups)u.pending.delete(o),u.done.delete(o);if((o.f&X)!==0)if(o.f^=X,o===i)lt(o,null,n);else{var T=v?v.next:i;o===t.effect.last&&(t.effect.last=o.prev),o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),Z(t,v,o),Z(t,o,T),lt(o,T,n),v=o,d=[],g=[],i=v.next;continue}if((o.f&yt)!==0&&(Vt(o),c&&(o.nodes?.a?.unfix(),(S??=new Set).delete(o))),o!==i){if(m!==void 0&&m.has(o)){if(d.length<g.length){var y=g[0],h;v=y.prev;var N=d[0],x=d[d.length-1];for(h=0;h<d.length;h+=1)lt(d[h],y,n);for(h=0;h<g.length;h+=1)m.delete(g[h]);Z(t,N.prev,x.next),Z(t,v,N),Z(t,x,y),i=y,v=x,r-=1,d=[],g=[]}else m.delete(o),lt(o,i,n),Z(t,o.prev,o.next),Z(t,o,v===null?t.effect.first:v.next),Z(t,v,o),v=o;continue}for(d=[],g=[];i!==null&&i!==o;)(m??=new Set).add(i),g.push(i),i=i.next;if(i===null)continue}(o.f&X)===0&&d.push(o),v=o,i=o.next}if(t.outrogroups!==null){for(const u of t.outrogroups)u.pending.size===0&&(At(Rt(u.done)),t.outrogroups?.delete(u));t.outrogroups.size===0&&(t.outrogroups=null)}if(i!==null||m!==void 0){var a=[];if(m!==void 0)for(o of m)(o.f&yt)===0&&a.push(o);for(;i!==null;)(i.f&yt)===0&&i!==t.fallback&&a.push(i),i=i.next;var _=a.length;if(_>0){var f=(l&Pt)!==0&&b===0?n:null;if(c){for(r=0;r<_;r+=1)a[r].nodes?.a?.measure();for(r=0;r<_;r+=1)a[r].nodes?.a?.fix()}ye(t,a,f)}}c&&pe(()=>{if(S!==void 0)for(o of S)o.nodes?.a?.apply()})}function Ee(t,e,n,l,k,c,b,w){var i=(b&fe)!==0?(b&de)===0?ve(n,!1,!1):Bt(n):null,m=(b&ue)!==0?Bt(k):null;return{v:i,i:m,e:Ft(()=>(c(e,i??n,m??k,w),()=>{t.delete(l)}))}}function lt(t,e,n){if(t.nodes)for(var l=t.nodes.start,k=t.nodes.end,c=e&&(e.f&X)===0?e.nodes.start:n;l!==null;){var b=_e(l);if(c.before(l),l===k)return;l=b}}function Z(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function Fe(t,e,n){var l=t==null?"":""+t;return l===""?null:l}function Te(t,e){return t==null?null:String(t)}function It(t,e,n,l,k,c){var b=t.__className;if(Y||b!==n||b===void 0){var w=Fe(n);(!Y||w!==t.getAttribute("class"))&&(w==null?t.removeAttribute("class"):t.className=w),t.__className=n}return c}function Ae(t,e,n,l){var k=t.__style;if(Y||k!==e){var c=Te(e);(!Y||c!==t.getAttribute("style"))&&(c==null?t.removeAttribute("style"):t.style.cssText=c),t.__style=e}return l}var St={local:{},session:{}};function Oe(t){return t==="local"?localStorage:sessionStorage}function Wt(t,e,n){var l,k,c,b,w,i,m,v;const S=(l=void 0)!=null?l:JSON,d=(k=void 0)!=null?k:"local",g=(c=void 0)!=null?c:!0,z=(w=(b=void 0)!=null?b:void 0)!=null?w:x=>console.error(`Error when writing value from persisted store "${t}" to ${d}`,x),M=(i=void 0)!=null?i:(x,a)=>console.error(`Error when parsing ${x?'"'+x+'"':"value"} from persisted store "${t}"`,a),o=(m=void 0)!=null?m:x=>x,r=(v=void 0)!=null?v:x=>x,T=typeof window<"u"&&typeof document<"u",y=T?Oe(d):null;function h(x,a){const _=r(a);try{y?.setItem(x,S.stringify(_))}catch(f){z(f)}}function N(){function x(u){try{return S.parse(u)}catch(R){M(u,R)}}const a=y?.getItem(t);if(a==null)return e;const _=x(a);return _==null?e:o(_)}if(!St[d][t]){const x=N(),a=st(x,u=>{if(T&&d=="local"&&g){const R=D=>{if(D.key===t&&D.newValue){let p;try{p=S.parse(D.newValue)}catch(H){M(D.newValue,H);return}const O=o(p);u(O)}};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)}}),{subscribe:_,set:f}=a;St[d][t]={set(u){f(u),h(t,u)},update(u){return a.update(R=>{const D=u(R);return h(t,D),D})},reset(){this.set(e)},subscribe:_}}return St[d][t]}const Kt="0.13";var j=(t=>(t[t.Main=0]="Main",t[t.Running=1]="Running",t[t.Options=2]="Options",t[t.Tutorial=3]="Tutorial",t))(j||{}),rt=(t=>(t[t.None=0]="None",t[t.Pickaxe=1]="Pickaxe",t[t.Axe=2]="Axe",t[t.Waterbucket=3]="Waterbucket",t))(rt||{});const G={0:null,1:"./pkaxe.webp",2:"./axe.webp",3:"./bucket.webp"};var q=(t=>(t[t.Navigation=0]="Navigation",t[t.Sorting=1]="Sorting",t))(q||{});let vt=st(0),pt=st(0),Ct=st([0,0,0,0,0,0,0,0,0]),Mt=st(0),ut=st([0,0,0,0,0,0,0,0,0]),$t={version_key:Kt,keybinds:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",offhand:"f"},options:{offhand_enabled:!0,sorting_target:[1,2,3,0,0,0,0,0,0]}};function Re(){console.log("Checking updates"),U.update(t=>(gt.update(e=>(console.log(e.pb_correct_clicks),e.pb_correct_clicks===void 0&&(e.pb_correct_clicks=0),e.pb_navigation===void 0&&(e.pb_navigation=0),e.pb_sorting===void 0&&(e.pb_sorting=0),e)),t.version_key===Kt?t:$t))}let U=Wt("settings",{...$t}),gt=Wt("stats",{pb_correct_clicks:0,pb_navigation:0,pb_sorting:0});const Et=t=>{let e=Math.min(Math.ceil(Math.random()*9),8);if(t!==null)for(;t.includes(e);)e=Math.floor(Math.random()*9);return e},Ce=(t,e,n)=>{const l=e[t];if(l&&n){const k=n.getBoundingClientRect();let c=l.getBoundingClientRect();return{left:c.left-k.left,top:c.top-k.top}}return{left:0,top:0}},Ot=t=>t.toString(),Me=t=>Math.floor((Date.now()-t)/1e3)+1,$e=(t,e)=>t.keybinds!==void 0&&t.options!==void 0,Ne=t=>{if(t)return[...t];const e=Array(9).fill(0);return e[0]=1,e[1]=2,e[2]=3,e},ze=t=>{const e=t.filter(l=>l!==0);let n;do{n=Array(9).fill(0);const l=Array.from({length:9},(k,c)=>c);for(const k of e){const c=Math.floor(Math.random()*l.length);n[l[c]]=k,l.splice(c,1)}}while(Yt(n,t));return n},Yt=(t,e)=>t.length===e.length&&t.every((n,l)=>n===e[l]),je=()=>{const t=ct(Mt),e=ct(ut),n=ct(pt),l=e[t];e[t]=n,ut.set([...e]),pt.set(l)},De=()=>Yt(ct(ut),ct(Ct)),Lt=t=>{const e=Ne(t);Ct.set(e);const n=ze(e);ut.set(n),pt.set(0),Mt.set(0)},Xt=[5,10,30,60,120];var Be=B('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),He=B('<button class="relative h-16 aspect-square hover:cursor-pointer"><img src="./slot.png" alt="" class="h-full w-full"/> <!></button>'),Ie=B('<p class="text-start"> </p> <button class="bg-[#707070] p-2 w-50 border border-black outline-none text-center hover:cursor-pointer"><!></button>',1),Le=B('<button class="right-25 top-5 absolute z-10 text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Back</button> <div class="absolute w-full top-10 h-full text-white flex flex-col items-center gap-30 text-xl min-h-0 overflow-y-auto"><p class="text-4xl">Options</p> <div class="grid grid-cols-2 align-middle"><p class="text-start">Show Offhand Slot</p> <button class="bg-[#707070] p-2 w-50 border border-black outline-none text-center hover:cursor-pointer"> </button></div> <p class="text-4xl">Sorting Layout</p> <div class="flex justify-center"></div> <p class="text-4xl">Keybinds</p> <div class="grid grid-cols-2 grid-rows-auto gap-5 items-center"></div></div>',1);function Pe(t,e){bt(e,!0);const n=()=>V(U,"$settings",l),[l,k]=_t(),c=[rt.None,rt.Pickaxe,rt.Axe,rt.Waterbucket];function b(r){e.onKeybindEdit(r)}function w(){U.update(r=>(r.options.offhand_enabled=!r.options.offhand_enabled,r))}function i(r){U.update(T=>{const y=T.options.sorting_target,h=y[r],N=c.indexOf(h);for(let x=1;x<=c.length;x++){const a=c[(N+x)%c.length];if(a===rt.None||!y.some((_,f)=>f!==r&&_===a)){y[r]=a;break}}return T.options.sorting_target=[...y],T})}var m=Le(),v=nt(m);v.__click=function(...r){e.onBack?.apply(this,r)};var S=A(v,2),d=A(C(S),2),g=A(C(d),2);g.__click=w;var z=C(g,!0);F(g),F(d);var M=A(d,4);at(M,20,()=>Array(9),ot,(r,T,y)=>{var h=He();h.__click=()=>i(y);var N=A(C(h),2);{var x=a=>{var _=Be();L(()=>dt(_,"src",G[n().options.sorting_target[y]])),$(a,_)};I(N,a=>{G[n().options.sorting_target[y]]&&a(x)})}F(h),$(r,h)}),F(M);var o=A(M,4);at(o,5,()=>Object.keys(n().keybinds),ot,(r,T)=>{var y=Ie(),h=nt(y),N=C(h);F(h);var x=A(h,2);x.__click=()=>b(s(T));var a=C(x);{var _=u=>{var R=Nt("_");$(u,R)},f=u=>{var R=Nt();L(()=>J(R,n().keybinds[s(T)])),$(u,R)};I(a,u=>{e.editing_keybind===s(T)?u(_):u(f,!1)})}F(x),L(()=>J(N,`Hotbar Slot ${s(T)??""}`)),$(r,y)}),F(o),F(S),L(()=>J(z,n().options.offhand_enabled)),$(t,m),ht(),k()}xt(["click"]);var Ve=B('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),qe=B('<div class="relative h-16 aspect-square"><img src="./slot.png" alt="" class="h-full w-full"/> <!></div>'),We=B('<div class="absolute left-1/2 -translate-x-1/2 flex flex-col items-center" style="top: 55%;"><p class="text-white text-lg mb-1">Target:</p> <div class="flex"></div></div>'),Ke=B('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),Ye=B('<div class="relative h-32 aspect-square"><img src="./offhand.png" alt="" class="h-full w-full shadow-2xl shadow-black place-self-center"/> <!></div>'),Xe=B('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),Je=B('<div class="relative h-30 aspect-square"><img src="./slot.png" alt="" class="h-full w-full shadow-2xl shadow-black"/> <!></div>'),Ue=B('<div class="relative z-10 w-full h-full"><div class="absolute left-1/2 -translate-x-1/2 text-white top-50 flex items-end"><p class="text-5xl">HOTBAR PRACTICE</p> <p>v1.0.0</p></div> <div class="absolute left-1/2 -translate-x-1/2 text-white top-80 flex flex-col items-end"><p class="text-2xl"> </p> <p class="text-2xl"> </p></div> <!> <div class="flex justify-center items-center size-full gap-12"><!> <div class="flex"></div></div> <img src="./selected.png" alt="" class="h-32 aspect-square absolute"/></div> <button class="left-25 top-5 absolute text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg z-1000">Back</button>',1);function Qe(t,e){bt(e,!0);const n=()=>V(vt,"$current_mode",w),l=()=>V(Ct,"$target_hotbar",w),k=()=>V(U,"$settings",w),c=()=>V(pt,"$offhand_item",w),b=()=>V(ut,"$hotbar",w),[w,i]=_t();let m=me(e,"slots",7);var v=Ue(),S=nt(v),d=A(C(S),2),g=C(d),z=C(g);F(g);var M=A(g,2),o=C(M);F(M),F(d);var r=A(d,2);{var T=f=>{var u=We(),R=A(C(u),2);at(R,20,()=>Array(9),ot,(D,p,O)=>{var H=qe(),P=A(C(H),2);{var Q=W=>{var it=Ve();L(()=>dt(it,"src",G[l()[O]])),$(W,it)};I(P,W=>{G[l()[O]]&&W(Q)})}F(H),$(D,H)}),F(R),F(u),$(f,u)};I(r,f=>{n()===q.Sorting&&f(T)})}var y=A(r,2),h=C(y);{var N=f=>{var u=Ye(),R=A(C(u),2);{var D=p=>{var O=Ke();L(()=>dt(O,"src",G[c()])),$(p,O)};I(R,p=>{n()===q.Sorting&&G[c()]&&p(D)})}F(u),$(f,u)};I(h,f=>{k().options.offhand_enabled&&f(N)})}var x=A(h,2);at(x,20,()=>Array(9),ot,(f,u,R)=>{var D=Je(),p=C(D);Tt(p,(P,Q)=>m()[Q]=P,P=>m()?.[P],()=>[R]);var O=A(p,2);{var H=P=>{var Q=Xe();L(()=>dt(Q,"src",G[b()[R]])),$(P,Q)};I(O,P=>{G[b()[R]]&&P(H)})}F(D),$(f,D)}),F(x),F(y);var a=A(y,2);F(S);var _=A(S,2);_.__click=function(...f){e.onBack?.apply(this,f)},L((f,u)=>{J(z,`Correct Clicks: ${f??""}`),J(o,`Time: ${u??""}`),Ae(a,`left: ${e.selectedPos.left??""}px; top: ${e.selectedPos.top-4}px`)},[()=>Ot(e.current_correct_clicks||0),()=>Me(e.start_time)]),$(t,v),ht(),i()}xt(["click"]);var Ze=B('<div class="relative flex flex-col size-full justify-center z-20 text-white text-center text-3xl"><p>Press the hotbar keybind corresponding to the highlighted slot.</p> <p>You can edit your preferred keybinds in the options!</p> <button class="left-25 top-5 absolute text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg z-1000">Back</button></div>');function Ge(t,e){var n=Ze(),l=A(C(n),4);l.__click=function(...k){e.onBack?.apply(this,k)},F(n),$(t,n)}xt(["click"]);var tr=B("<p> </p>"),er=B("<button> </button>"),rr=B("<button> </button>"),nr=B('<div class="absolute top-full right-0 mt-2 flex flex-col gap-2 bg-[#4F4F4F] border-3 border-black p-3 z-20"><a href="https://foldrly.com" target="_blank" class="text-white text-lg hover:underline text-shadow-black text-shadow-lg">Foldrly</a> <a href="https://specifai.info" target="_blank" class="text-white text-lg hover:underline text-shadow-black text-shadow-lg">SpecifAI</a> <a href="https://trainflexi.com" target="_blank" class="text-white text-lg hover:underline text-shadow-black text-shadow-lg">TrainFlexi</a></div>'),or=B('<div class="absolute left-1/2 -translate-x-1/2 text-white top-50 flex items-end"><p class="text-5xl">HOTBAR PRACTICE</p> <p>v1.0.0</p></div> <div class="absolute left-1/2 -translate-x-1/2 text-white top-80 flex flex-col text-2xl"><p> </p> <!></div> <button class="top-100 absolute left-1/2 -translate-x-1/2 text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Start</button> <div class="top-180 absolute left-1/2 -translate-x-1/2 text-white text-2xl flex flex-row gap-10"></div> <div class="absolute top-150 w-full flex justify-center gap-10"></div> <div class="absolute right-25 top-5 flex flex-col w-fit justify-center gap-5"><button class="text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Options</button> <button class="text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">How to Play</button> <div class="relative"><button class="text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg animate-pulse-subtle">My Projects</button> <!></div></div>',1);function ar(t,e){bt(e,!0);const n=()=>V(vt,"$current_mode",k),l=()=>V(gt,"$stats",k),[k,c]=_t();let b=K(!1);var w=or(),i=A(nt(w),2),m=C(i),v=C(m);F(m);var S=A(m,2);{var d=a=>{var _=tr(),f=C(_);F(_),L(u=>J(f,`Last round: ${u??""} correct
            clicks`),[()=>Ot(e.current_correct_clicks||0)]),$(a,_)};I(S,a=>{e.current_correct_clicks&&a(d)})}F(i);var g=A(i,2);g.__click=function(...a){e.onStart?.apply(this,a)};var z=A(g,2);at(z,21,()=>Object.values(q).filter(a=>typeof a=="string"),ot,(a,_)=>{var f=er();f.__click=()=>ke(vt,q[s(_)]);var u=C(f,!0);F(f),L(()=>{It(f,1,`w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 hover:cursor-pointer text-shadow-black text-shadow-lg ${n()===q[s(_)]?"border-white":"border-black"}`),J(u,s(_))}),$(a,f)}),F(z);var M=A(z,2);at(M,21,()=>Xt,ot,(a,_)=>{var f=rr();f.__click=()=>e.onDurationChange(s(_));var u=C(f);F(f),L(()=>{It(f,1,`text-white bg-[#6F6F6F] w-60 h-15 border-3 hover:cursor-pointer text-shadow-black text-shadow-lg text-lg ${s(_)===e.duration?"border-white":"border-black"}`),J(u,`${s(_)??""}s`)}),$(a,f)}),F(M);var o=A(M,2),r=C(o);r.__click=function(...a){e.onOptions?.apply(this,a)};var T=A(r,2);T.__click=function(...a){e.onTutorial?.apply(this,a)};var y=A(T,2),h=C(y);h.__click=()=>E(b,!s(b));var N=A(h,2);{var x=a=>{var _=nr();$(a,_)};I(N,a=>{s(b)&&a(x)})}F(y),F(o),L(a=>J(v,`PB: ${a??""} correct clicks`),[()=>Ot((n()===q.Navigation?l().pb_navigation:l().pb_sorting)||0)]),$(t,w),ht(),c()}xt(["click"]);var sr=B('<div class="relative w-screen h-screen overflow-hidden svelte-1uha8ag"><img src="./bg/background.webp" alt="" class="absolute inset-0 w-full h-full object-cover z-0 pointer-events-none svelte-1uha8ag"/> <!> <a href="https://buymeacoffee.com/simzooo" target="_black" class="absolute bottom-10 left-10 bg-[#FFDD00] hidden lg:flex flex-row gap-2 rounded items-center p-2 svelte-1uha8ag"><img src="https://cdn.buymeacoffee.com/widget/assets/coffee%20cup.svg" alt="Buy Me A Coffee" style="height: 36px; width: 36px; margin: 0; padding: 0;" class="svelte-1uha8ag"/> Support me!</a></div>');function vr(t,e){bt(e,!0);const n=()=>V(U,"$settings",c),l=()=>V(vt,"$current_mode",c),k=()=>V(gt,"$stats",c),[c,b]=_t();let w=et([]),i=K(et(Et(null))),m=K(0),v=K(et(Xt[0])),S=K(null),d=K(0),g=K(null),z=0,M=K(et(Date.now())),o=K(null),r=K(et(j.Main)),T,y=et({left:0,top:0});$e(n())||U.update(p=>$t);function h(){const p=Ce(s(i),w,T);y.left=p.left,y.top=p.top}function N(){E(d,0),E(g,0),E(m,0)}function x(){E(m,Date.now(),!0),E(r,j.Running,!0),E(d,0),E(g,0),l()===q.Sorting&&(Lt(n().options.sorting_target),E(i,0)),z=setInterval(()=>{if(E(M,Date.now(),!0),Date.now()-s(m)>=s(v)*1e3){E(r,j.Main,!0),E(m,0);const p=l()===q.Navigation?"pb_navigation":"pb_sorting";k()[p]<s(g)&&gt.update(O=>(O[p]=s(g),O)),clearInterval(z)}},100)}function a(p){E(v,p,!0)}function _(p){E(S,p,!0)}Zt(()=>{Re(),h(),window.addEventListener("resize",p=>{h()}),history.pushState(null,"",location.href),window.addEventListener("popstate",()=>{history.pushState(null,"",location.href)}),s(o)?.addEventListener("pointerdown",p=>{if(s(r)===j.Options&&s(S)!==null){let O="Mouse"+p.button;U.update(H=>(Object.values(H.keybinds).includes(O)||(H.keybinds[s(S)]=O),H)),E(S,null)}else s(r)===j.Running&&l()===q.Sorting||(s(r)===j.Running&&"Mouse"+p.button===n().keybinds[(s(i)+1).toString()]?(E(i,Et([s(i)]),!0),h(),E(g,s(g)+1),E(d,s(d)+1)):s(r)===j.Running&&E(d,s(d)+1))}),window.addEventListener("keydown",p=>{if(!p.repeat)if(s(r)===j.Options&&s(S)!==null)U.update(O=>(Object.values(O.keybinds).includes(p.key)||(O.keybinds[s(S)]=p.key),O)),E(S,null);else if(s(r)===j.Running&&l()===q.Sorting){for(let O=1;O<=9;O++)if(p.key===n().keybinds[O.toString()]){Mt.set(O-1),E(i,O-1),h();return}p.key===n().keybinds.offhand&&(je(),De()&&(E(g,s(g)+1),Lt(n().options.sorting_target),E(i,0),h()))}else s(r)===j.Running&&p.key===n().keybinds[(s(i)+1).toString()]?(E(g,s(g)+1),E(d,s(d)+1),E(i,Et([s(i)]),!0),h()):s(r)===j.Running&&E(d,s(d)+1)})}),xe(()=>{s(i),w[s(i)],h()});var f=sr(),u=A(C(f),2);{var R=p=>{Pe(p,{get editing_keybind(){return s(S)},onBack:()=>E(r,j.Main,!0),onKeybindEdit:_})},D=p=>{var O=zt(),H=nt(O);{var P=W=>{Qe(W,{get slots(){return w},get to_select(){return s(i)},get selectedPos(){return y},get current_correct_clicks(){return s(g)},get now(){return s(M)},get start_time(){return s(m)},get container(){return T},onBack:()=>{E(r,j.Main,!0),N()}})},Q=W=>{var it=zt(),Jt=nt(it);{var Ut=tt=>{Ge(tt,{onBack:()=>{E(r,j.Main,!0),N()}})},Qt=tt=>{ar(tt,{get current_correct_clicks(){return s(g)},get duration(){return s(v)},onDurationChange:a,onStart:x,onOptions:()=>E(r,j.Options,!0),onTutorial:()=>E(r,j.Tutorial,!0)})};I(Jt,tt=>{s(r)===j.Tutorial?tt(Ut):tt(Qt,!1)},!0)}$(W,it)};I(H,W=>{s(r)===j.Running?W(P):W(Q,!1)},!0)}$(p,O)};I(u,p=>{s(r)===j.Options?p(R):p(D,!1)})}we(2),F(f),Tt(f,p=>E(o,p),()=>s(o)),Tt(f,p=>T=p,()=>T),$(t,f),ht(),b()}export{vr as component};
