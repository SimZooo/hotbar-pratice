import{a as N,f as H,t as Nt,c as zt}from"../chunks/COe5jiM3.js";import{w as st,g as ct,o as Zt}from"../chunks/5AIwDW7i.js";import{h as K,n as wt,Z as Gt,b as mt,j as te,i as ee,y as s,k as re,H as ne,l as Dt,o as kt,f as ft,ai as oe,aJ as ae,au as Bt,c as se,e as Tt,s as ie,aQ as Vt,T as le,aR as ce,aH as Rt,aS as ue,ag as Ht,aT as fe,aU as de,x as ve,aV as X,r as qt,p as Pt,aW as yt,v as pe,aX as ge,aG as _e,d as be,aD as he,a8 as _t,a9 as nt,ae as O,ac as M,ad as T,aa as I,ab as bt,F as et,aO as Y,X as xe,A as E,av as we}from"../chunks/BSJzay6h.js";import{s as V,a as ht,i as q,p as me,b as At,c as ke}from"../chunks/BtllQuPr.js";import{d as xt,s as J}from"../chunks/CobBbNkJ.js";import{s as dt}from"../chunks/C8cUYFt-.js";function ot(t,e){return e}function ye(t,e,r){for(var i=[],k=e.length,l,b=e.length,h=0;h<k;h++){let S=e[h];Pt(S,()=>{if(l){if(l.pending.delete(S),l.done.add(S),l.pending.size===0){var u=t.outrogroups;Ot(Rt(l.done)),u.delete(l),u.size===0&&(t.outrogroups=null)}}else b-=1},!1)}if(b===0){var a=i.length===0&&r!==null;if(a){var y=r,d=y.parentNode;_e(d),d.append(y),t.items.clear()}Ot(e,!a)}else l={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(l)}function Ot(t,e=!0){for(var r=0;r<t.length;r++)be(t[r],e)}var jt;function at(t,e,r,i,k,l=null){var b=t,h=new Map,a=(e&Vt)!==0;if(a){var y=t;b=K?wt(Gt(y)):y.appendChild(mt())}K&&te();var d=null,S=le(()=>{var n=r();return ce(n)?n:n==null?[]:Rt(n)}),u,_=!0;function z(){o.fallback=d,Se(o,u,b,e,i),d!==null&&(u.length===0?(d.f&X)===0?qt(d):(d.f^=X,lt(d,null,b)):Pt(d,()=>{d=null}))}var $=ee(()=>{u=s(S);var n=u.length;let v=!1;if(K){var p=re(b)===ne;p!==(n===0)&&(b=Dt(),wt(b),kt(!1),v=!0)}for(var c=new Set,F=se,w=ie(),x=0;x<n;x+=1){K&&ft.nodeType===oe&&ft.data===ae&&(b=ft,v=!0,kt(!1));var R=u[x],m=i(R,x),f=_?null:h.get(m);f?(f.v&&Bt(f.v,R),f.i&&Bt(f.i,x),w&&F.skipped_effects.delete(f.e)):(f=Ee(h,_?b:jt??=mt(),R,m,x,k,e,r),_||(f.e.f|=X),h.set(m,f)),c.add(m)}if(n===0&&l&&!d&&(_?d=Tt(()=>l(b)):(d=Tt(()=>l(jt??=mt())),d.f|=X)),K&&n>0&&wt(Dt()),!_)if(w){for(const[C,B]of h)c.has(C)||F.skipped_effects.add(B.e);F.oncommit(z),F.ondiscard(()=>{})}else z();v&&kt(!0),s(S)}),o={effect:$,items:h,outrogroups:null,fallback:d};_=!1,K&&(b=ft)}function Se(t,e,r,i,k){var l=(i&ge)!==0,b=e.length,h=t.items,a=t.effect.first,y,d=null,S,u=[],_=[],z,$,o,n;if(l)for(n=0;n<b;n+=1)z=e[n],$=k(z,n),o=h.get($).e,(o.f&X)===0&&(o.nodes?.a?.measure(),(S??=new Set).add(o));for(n=0;n<b;n+=1){if(z=e[n],$=k(z,n),o=h.get($).e,t.outrogroups!==null)for(const f of t.outrogroups)f.pending.delete(o),f.done.delete(o);if((o.f&X)!==0)if(o.f^=X,o===a)lt(o,null,r);else{var v=d?d.next:a;o===t.effect.last&&(t.effect.last=o.prev),o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),Z(t,d,o),Z(t,o,v),lt(o,v,r),d=o,u=[],_=[],a=d.next;continue}if((o.f&yt)!==0&&(qt(o),l&&(o.nodes?.a?.unfix(),(S??=new Set).delete(o))),o!==a){if(y!==void 0&&y.has(o)){if(u.length<_.length){var p=_[0],c;d=p.prev;var F=u[0],w=u[u.length-1];for(c=0;c<u.length;c+=1)lt(u[c],p,r);for(c=0;c<_.length;c+=1)y.delete(_[c]);Z(t,F.prev,w.next),Z(t,d,F),Z(t,w,p),a=p,d=w,n-=1,u=[],_=[]}else y.delete(o),lt(o,a,r),Z(t,o.prev,o.next),Z(t,o,d===null?t.effect.first:d.next),Z(t,d,o),d=o;continue}for(u=[],_=[];a!==null&&a!==o;)(y??=new Set).add(a),_.push(a),a=a.next;if(a===null)continue}(o.f&X)===0&&u.push(o),d=o,a=o.next}if(t.outrogroups!==null){for(const f of t.outrogroups)f.pending.size===0&&(Ot(Rt(f.done)),t.outrogroups?.delete(f));t.outrogroups.size===0&&(t.outrogroups=null)}if(a!==null||y!==void 0){var x=[];if(y!==void 0)for(o of y)(o.f&yt)===0&&x.push(o);for(;a!==null;)(a.f&yt)===0&&a!==t.fallback&&x.push(a),a=a.next;var R=x.length;if(R>0){var m=(i&Vt)!==0&&b===0?r:null;if(l){for(n=0;n<R;n+=1)x[n].nodes?.a?.measure();for(n=0;n<R;n+=1)x[n].nodes?.a?.fix()}ye(t,x,m)}}l&&pe(()=>{if(S!==void 0)for(o of S)o.nodes?.a?.apply()})}function Ee(t,e,r,i,k,l,b,h){var a=(b&fe)!==0?(b&de)===0?ve(r,!1,!1):Ht(r):null,y=(b&ue)!==0?Ht(k):null;return{v:a,i:y,e:Tt(()=>(l(e,a??r,y??k,h),()=>{t.delete(i)}))}}function lt(t,e,r){if(t.nodes)for(var i=t.nodes.start,k=t.nodes.end,l=e&&(e.f&X)===0?e.nodes.start:r;i!==null;){var b=he(i);if(l.before(i),i===k)return;i=b}}function Z(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Te(t,e,r){var i=t==null?"":""+t;return i===""?null:i}function Ae(t,e){return t==null?null:String(t)}function It(t,e,r,i,k,l){var b=t.__className;if(K||b!==r||b===void 0){var h=Te(r);(!K||h!==t.getAttribute("class"))&&(h==null?t.removeAttribute("class"):t.className=h),t.__className=r}return l}function Oe(t,e,r,i){var k=t.__style;if(K||k!==e){var l=Ae(e);(!K||l!==t.getAttribute("style"))&&(l==null?t.removeAttribute("style"):t.style.cssText=l),t.__style=e}return i}var St={local:{},session:{}};function Fe(t){return t==="local"?localStorage:sessionStorage}function Wt(t,e,r){var i,k,l,b,h,a,y,d;const S=(i=void 0)!=null?i:JSON,u=(k=void 0)!=null?k:"local",_=(l=void 0)!=null?l:!0,z=(h=(b=void 0)!=null?b:void 0)!=null?h:w=>console.error(`Error when writing value from persisted store "${t}" to ${u}`,w),$=(a=void 0)!=null?a:(w,x)=>console.error(`Error when parsing ${w?'"'+w+'"':"value"} from persisted store "${t}"`,x),o=(y=void 0)!=null?y:w=>w,n=(d=void 0)!=null?d:w=>w,v=typeof window<"u"&&typeof document<"u",p=v?Fe(u):null;function c(w,x){const R=n(x);try{p?.setItem(w,S.stringify(R))}catch(m){z(m)}}function F(){function w(f){try{return S.parse(f)}catch(C){$(f,C)}}const x=p?.getItem(t);if(x==null)return e;const R=w(x);return R==null?e:o(R)}if(!St[u][t]){const w=F(),x=st(w,f=>{if(v&&u=="local"&&_){const C=B=>{if(B.key===t&&B.newValue){let g;try{g=S.parse(B.newValue)}catch(j){$(B.newValue,j);return}const A=o(g);f(A)}};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)}}),{subscribe:R,set:m}=x;St[u][t]={set(f){m(f),c(t,f)},update(f){return x.update(C=>{const B=f(C);return c(t,B),B})},reset(){this.set(e)},subscribe:R}}return St[u][t]}const Kt="0.13";var D=(t=>(t[t.Main=0]="Main",t[t.Running=1]="Running",t[t.Options=2]="Options",t[t.Tutorial=3]="Tutorial",t))(D||{}),rt=(t=>(t[t.None=0]="None",t[t.Pickaxe=1]="Pickaxe",t[t.Axe=2]="Axe",t[t.Waterbucket=3]="Waterbucket",t))(rt||{});const G={0:null,1:"./pkaxe.webp",2:"./axe.webp",3:"./bucket.webp"};var P=(t=>(t[t.Navigation=0]="Navigation",t[t.Sorting=1]="Sorting",t))(P||{});let vt=st(0),pt=st(0),Ct=st([0,0,0,0,0,0,0,0,0]),Mt=st(0),ut=st([0,0,0,0,0,0,0,0,0]),$t={version_key:Kt,keybinds:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",offhand:"f"},options:{offhand_enabled:!0,sorting_target:[1,2,3,0,0,0,0,0,0]}};function Re(){console.log("Checking updates"),U.update(t=>(gt.update(e=>(console.log(e.pb_correct_clicks),e.pb_correct_clicks===void 0&&(e.pb_correct_clicks=0),e.pb_navigation===void 0&&(e.pb_navigation=0),e.pb_sorting===void 0&&(e.pb_sorting=0),e)),t.version_key===Kt?t:$t))}let U=Wt("settings",{...$t}),gt=Wt("stats",{pb_correct_clicks:0,pb_navigation:0,pb_sorting:0});const Et=t=>{let e=Math.min(Math.ceil(Math.random()*9),8);if(t!==null)for(;t.includes(e);)e=Math.floor(Math.random()*9);return e},Ce=(t,e,r)=>{const i=e[t];if(i&&r){const k=r.getBoundingClientRect();let l=i.getBoundingClientRect();return{left:l.left-k.left,top:l.top-k.top}}return{left:0,top:0}},Ft=t=>t.toString(),Me=t=>Math.floor((Date.now()-t)/1e3)+1,$e=(t,e)=>t.keybinds!==void 0&&t.options!==void 0,Ne=t=>{if(t)return[...t];const e=Array(9).fill(0);return e[0]=1,e[1]=2,e[2]=3,e},ze=t=>{const e=t.filter(i=>i!==0);let r;do{r=Array(9).fill(0);const i=Array.from({length:9},(k,l)=>l);for(const k of e){const l=Math.floor(Math.random()*i.length);r[i[l]]=k,i.splice(l,1)}}while(Yt(r,t));return r},Yt=(t,e)=>t.length===e.length&&t.every((r,i)=>r===e[i]),De=()=>{const t=ct(Mt),e=ct(ut),r=ct(pt),i=e[t];e[t]=r,ut.set([...e]),pt.set(i)},Be=()=>Yt(ct(ut),ct(Ct)),Lt=t=>{const e=Ne(t);Ct.set(e);const r=ze(e);ut.set(r),pt.set(0),Mt.set(0)},Xt=[5,10,30,60,120];var He=H('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),je=H('<button class="relative h-16 aspect-square hover:cursor-pointer"><img src="./slot.png" alt="" class="h-full w-full"/> <!></button>'),Ie=H('<p class="text-start"> </p> <button class="bg-[#707070] p-2 w-50 border border-black outline-none text-center hover:cursor-pointer"><!></button>',1),Le=H('<button class="right-25 top-5 absolute z-10 text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Back</button> <div class="absolute w-full top-10 h-full text-white flex flex-col items-center gap-30 text-xl min-h-0 overflow-y-auto"><p class="text-4xl">Options</p> <div class="grid grid-cols-2 align-middle"><p class="text-start">Show Offhand Slot</p> <button class="bg-[#707070] p-2 w-50 border border-black outline-none text-center hover:cursor-pointer"> </button></div> <p class="text-4xl">Sorting Layout</p> <div class="flex justify-center"></div> <p class="text-4xl">Keybinds</p> <div class="grid grid-cols-2 grid-rows-auto gap-5 items-center"></div></div>',1);function Ve(t,e){_t(e,!0);const r=()=>V(U,"$settings",i),[i,k]=ht(),l=[rt.None,rt.Pickaxe,rt.Axe,rt.Waterbucket];function b(n){e.onKeybindEdit(n)}function h(){U.update(n=>(n.options.offhand_enabled=!n.options.offhand_enabled,n))}function a(n){U.update(v=>{const p=v.options.sorting_target,c=p[n],F=l.indexOf(c);for(let w=1;w<=l.length;w++){const x=l[(F+w)%l.length];if(x===rt.None||!p.some((R,m)=>m!==n&&R===x)){p[n]=x;break}}return v.options.sorting_target=[...p],v})}var y=Le(),d=nt(y);d.__click=function(...n){e.onBack?.apply(this,n)};var S=O(d,2),u=O(M(S),2),_=O(M(u),2);_.__click=h;var z=M(_,!0);T(_),T(u);var $=O(u,4);at($,20,()=>Array(9),ot,(n,v,p)=>{var c=je();c.__click=()=>a(p);var F=O(M(c),2);{var w=x=>{var R=He();I(()=>dt(R,"src",G[r().options.sorting_target[p]])),N(x,R)};q(F,x=>{G[r().options.sorting_target[p]]&&x(w)})}T(c),N(n,c)}),T($);var o=O($,4);at(o,5,()=>Object.keys(r().keybinds),ot,(n,v)=>{var p=Ie(),c=nt(p),F=M(c);T(c);var w=O(c,2);w.__click=()=>b(s(v));var x=M(w);{var R=f=>{var C=Nt("_");N(f,C)},m=f=>{var C=Nt();I(()=>J(C,r().keybinds[s(v)])),N(f,C)};q(x,f=>{e.editing_keybind===s(v)?f(R):f(m,!1)})}T(w),I(()=>J(F,`Hotbar Slot ${s(v)??""}`)),N(n,p)}),T(o),T(S),I(()=>J(z,r().options.offhand_enabled)),N(t,y),bt(),k()}xt(["click"]);var qe=H('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),Pe=H('<div class="relative h-16 aspect-square"><img src="./slot.png" alt="" class="h-full w-full"/> <!></div>'),We=H('<div class="absolute left-1/2 -translate-x-1/2 flex flex-col items-center" style="top: 55%;"><p class="text-white text-lg mb-1">Target:</p> <div class="flex"></div></div>'),Ke=H('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),Ye=H('<div class="relative h-32 aspect-square"><img src="./offhand.png" alt="" class="h-full w-full shadow-2xl shadow-black place-self-center"/> <!></div>'),Xe=H('<img alt="" class="absolute inset-0 w-3/4 h-3/4 m-auto object-contain pointer-events-none z-10"/>'),Je=H('<div class="relative h-30 aspect-square"><img src="./slot.png" alt="" class="h-full w-full shadow-2xl shadow-black"/> <!></div>'),Ue=H('<div class="relative z-10 w-full h-full"><div class="absolute left-1/2 -translate-x-1/2 text-white top-50 flex items-end"><p class="text-5xl">HOTBAR PRACTICE</p> <p>v1.0.0</p></div> <div class="absolute left-1/2 -translate-x-1/2 text-white top-80 flex flex-col items-end"><p class="text-2xl"> </p> <p class="text-2xl"> </p></div> <!> <div class="flex justify-center items-center size-full gap-12"><!> <div class="flex"></div></div> <img src="./selected.png" alt="" class="h-32 aspect-square absolute"/></div> <button class="left-25 top-5 absolute text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg z-1000">Back</button>',1);function Qe(t,e){_t(e,!0);const r=()=>V(vt,"$current_mode",h),i=()=>V(Ct,"$target_hotbar",h),k=()=>V(U,"$settings",h),l=()=>V(pt,"$offhand_item",h),b=()=>V(ut,"$hotbar",h),[h,a]=ht();let y=me(e,"slots",7);var d=Ue(),S=nt(d),u=O(M(S),2),_=M(u),z=M(_);T(_);var $=O(_,2),o=M($);T($),T(u);var n=O(u,2);{var v=m=>{var f=We(),C=O(M(f),2);at(C,20,()=>Array(9),ot,(B,g,A)=>{var j=Pe(),L=O(M(j),2);{var Q=W=>{var it=qe();I(()=>dt(it,"src",G[i()[A]])),N(W,it)};q(L,W=>{G[i()[A]]&&W(Q)})}T(j),N(B,j)}),T(C),T(f),N(m,f)};q(n,m=>{r()===P.Sorting&&m(v)})}var p=O(n,2),c=M(p);{var F=m=>{var f=Ye(),C=O(M(f),2);{var B=g=>{var A=Ke();I(()=>dt(A,"src",G[l()])),N(g,A)};q(C,g=>{r()===P.Sorting&&G[l()]&&g(B)})}T(f),N(m,f)};q(c,m=>{k().options.offhand_enabled&&m(F)})}var w=O(c,2);at(w,20,()=>Array(9),ot,(m,f,C)=>{var B=Je(),g=M(B);At(g,(L,Q)=>y()[Q]=L,L=>y()?.[L],()=>[C]);var A=O(g,2);{var j=L=>{var Q=Xe();I(()=>dt(Q,"src",G[b()[C]])),N(L,Q)};q(A,L=>{G[b()[C]]&&L(j)})}T(B),N(m,B)}),T(w),T(p);var x=O(p,2);T(S);var R=O(S,2);R.__click=function(...m){e.onBack?.apply(this,m)},I((m,f)=>{J(z,`Correct Clicks: ${m??""}`),J(o,`Time: ${f??""}`),Oe(x,`left: ${e.selectedPos.left??""}px; top: ${e.selectedPos.top-4}px`)},[()=>Ft(e.current_correct_clicks||0),()=>Me(e.start_time)]),N(t,d),bt(),a()}xt(["click"]);var Ze=H('<div class="relative flex flex-col size-full justify-center z-20 text-white text-center text-3xl"><p>Press the hotbar keybind corresponding to the highlighted slot.</p> <p>You can edit your preferred keybinds in the options!</p> <button class="left-25 top-5 absolute text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg z-1000">Back</button></div>');function Ge(t,e){var r=Ze(),i=O(M(r),4);i.__click=function(...k){e.onBack?.apply(this,k)},T(r),N(t,r)}xt(["click"]);var tr=H("<p> </p>"),er=H("<button> </button>"),rr=H("<button> </button>"),nr=H('<div class="absolute left-1/2 -translate-x-1/2 text-white top-50 flex items-end"><p class="text-5xl">HOTBAR PRACTICE</p> <p>v1.0.0</p></div> <div class="absolute left-1/2 -translate-x-1/2 text-white top-80 flex flex-col text-2xl"><p> </p> <!></div> <button class="top-100 absolute left-1/2 -translate-x-1/2 text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Start</button> <div class="top-180 absolute left-1/2 -translate-x-1/2 text-white text-2xl flex flex-row gap-10"></div> <div class="absolute top-150 w-full flex justify-center gap-10"></div> <div class="absolute right-25 top-5 flex flex-col w-fit justify-center gap-5"><button class="text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">Options</button> <button class="text-white text-2xl w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 border-black hover:cursor-pointer text-shadow-black text-shadow-lg">How to Play</button></div>',1);function or(t,e){_t(e,!0);const r=()=>V(vt,"$current_mode",k),i=()=>V(gt,"$stats",k),[k,l]=ht();var b=nr(),h=O(nt(b),2),a=M(h),y=M(a);T(a);var d=O(a,2);{var S=v=>{var p=tr(),c=M(p);T(p),I(F=>J(c,`Last round: ${F??""} correct
            clicks`),[()=>Ft(e.current_correct_clicks||0)]),N(v,p)};q(d,v=>{e.current_correct_clicks&&v(S)})}T(h);var u=O(h,2);u.__click=function(...v){e.onStart?.apply(this,v)};var _=O(u,2);at(_,21,()=>Object.values(P).filter(v=>typeof v=="string"),ot,(v,p)=>{var c=er();c.__click=()=>ke(vt,P[s(p)]);var F=M(c,!0);T(c),I(()=>{It(c,1,`w-60 h-15 text-center items-center bg-[#6F6F6F] flex flex-col justify-center border-3 hover:cursor-pointer text-shadow-black text-shadow-lg ${r()===P[s(p)]?"border-white":"border-black"}`),J(F,s(p))}),N(v,c)}),T(_);var z=O(_,2);at(z,21,()=>Xt,ot,(v,p)=>{var c=rr();c.__click=()=>e.onDurationChange(s(p));var F=M(c);T(c),I(()=>{It(c,1,`text-white bg-[#6F6F6F] w-60 h-15 border-3 hover:cursor-pointer text-shadow-black text-shadow-lg text-lg ${s(p)===e.duration?"border-white":"border-black"}`),J(F,`${s(p)??""}s`)}),N(v,c)}),T(z);var $=O(z,2),o=M($);o.__click=function(...v){e.onOptions?.apply(this,v)};var n=O(o,2);n.__click=function(...v){e.onTutorial?.apply(this,v)},T($),I(v=>J(y,`PB: ${v??""} correct clicks`),[()=>Ft((r()===P.Navigation?i().pb_navigation:i().pb_sorting)||0)]),N(t,b),bt(),l()}xt(["click"]);var ar=H('<div class="relative w-screen h-screen overflow-hidden svelte-1uha8ag"><img src="./bg/background.webp" alt="" class="absolute inset-0 w-full h-full object-cover z-0 pointer-events-none svelte-1uha8ag"/> <!> <a href="https://buymeacoffee.com/simzooo" target="_black" class="absolute bottom-10 left-10 bg-[#FFDD00] hidden lg:flex flex-row gap-2 rounded items-center p-2 svelte-1uha8ag"><img src="https://cdn.buymeacoffee.com/widget/assets/coffee%20cup.svg" alt="Buy Me A Coffee" style="height: 36px; width: 36px; margin: 0; padding: 0;" class="svelte-1uha8ag"/> Support me!</a></div>');function dr(t,e){_t(e,!0);const r=()=>V(U,"$settings",l),i=()=>V(vt,"$current_mode",l),k=()=>V(gt,"$stats",l),[l,b]=ht();let h=et([]),a=Y(et(Et(null))),y=Y(0),d=Y(et(Xt[0])),S=Y(null),u=Y(0),_=Y(null),z=0,$=Y(et(Date.now())),o=Y(null),n=Y(et(D.Main)),v,p=et({left:0,top:0});$e(r())||U.update(g=>$t);function c(){const g=Ce(s(a),h,v);p.left=g.left,p.top=g.top}function F(){E(u,0),E(_,0),E(y,0)}function w(){E(y,Date.now(),!0),E(n,D.Running,!0),E(u,0),E(_,0),i()===P.Sorting&&(Lt(r().options.sorting_target),E(a,0)),z=setInterval(()=>{if(E($,Date.now(),!0),Date.now()-s(y)>=s(d)*1e3){E(n,D.Main,!0),E(y,0);const g=i()===P.Navigation?"pb_navigation":"pb_sorting";k()[g]<s(_)&&gt.update(A=>(A[g]=s(_),A)),clearInterval(z)}},100)}function x(g){E(d,g,!0)}function R(g){E(S,g,!0)}Zt(()=>{Re(),c(),window.addEventListener("resize",g=>{c()}),history.pushState(null,"",location.href),window.addEventListener("popstate",()=>{history.pushState(null,"",location.href)}),s(o)?.addEventListener("pointerdown",g=>{if(s(n)===D.Options&&s(S)!==null){let A="Mouse"+g.button;U.update(j=>(Object.values(j.keybinds).includes(A)||(j.keybinds[s(S)]=A),j)),E(S,null)}else s(n)===D.Running&&i()===P.Sorting||(s(n)===D.Running&&"Mouse"+g.button===r().keybinds[(s(a)+1).toString()]?(E(a,Et([s(a)]),!0),c(),E(_,s(_)+1),E(u,s(u)+1)):s(n)===D.Running&&E(u,s(u)+1))}),window.addEventListener("keydown",g=>{if(!g.repeat)if(s(n)===D.Options&&s(S)!==null)U.update(A=>(Object.values(A.keybinds).includes(g.key)||(A.keybinds[s(S)]=g.key),A)),E(S,null);else if(s(n)===D.Running&&i()===P.Sorting){for(let A=1;A<=9;A++)if(g.key===r().keybinds[A.toString()]){Mt.set(A-1),E(a,A-1),c();return}g.key===r().keybinds.offhand&&(De(),Be()&&(E(_,s(_)+1),Lt(r().options.sorting_target),E(a,0),c()))}else s(n)===D.Running&&g.key===r().keybinds[(s(a)+1).toString()]?(E(_,s(_)+1),E(u,s(u)+1),E(a,Et([s(a)]),!0),c()):s(n)===D.Running&&E(u,s(u)+1)})}),xe(()=>{s(a),h[s(a)],c()});var m=ar(),f=O(M(m),2);{var C=g=>{Ve(g,{get editing_keybind(){return s(S)},onBack:()=>E(n,D.Main,!0),onKeybindEdit:R})},B=g=>{var A=zt(),j=nt(A);{var L=W=>{Qe(W,{get slots(){return h},get to_select(){return s(a)},get selectedPos(){return p},get current_correct_clicks(){return s(_)},get now(){return s($)},get start_time(){return s(y)},get container(){return v},onBack:()=>{E(n,D.Main,!0),F()}})},Q=W=>{var it=zt(),Jt=nt(it);{var Ut=tt=>{Ge(tt,{onBack:()=>{E(n,D.Main,!0),F()}})},Qt=tt=>{or(tt,{get current_correct_clicks(){return s(_)},get duration(){return s(d)},onDurationChange:x,onStart:w,onOptions:()=>E(n,D.Options,!0),onTutorial:()=>E(n,D.Tutorial,!0)})};q(Jt,tt=>{s(n)===D.Tutorial?tt(Ut):tt(Qt,!1)},!0)}N(W,it)};q(j,W=>{s(n)===D.Running?W(L):W(Q,!1)},!0)}N(g,A)};q(f,g=>{s(n)===D.Options?g(C):g(B,!1)})}we(2),T(m),At(m,g=>E(o,g),()=>s(o)),At(m,g=>v=g,()=>v),N(t,m),bt(),b()}export{dr as component};
